<article class="writing" #article [id]="writing.entityToken">
  <div class="writing__header">
    <div class="header__writing-type">
      Тип:
      <span *ngIf="writing.type == 'POST'">допис</span>
      <span *ngIf="writing.type == 'ARTICLE'">стаття</span>
    </div>
    <div class="header__menu">
      <button class="menu__button" (blur)="onMenuBlur(menu)" (focus)="onClickMenu(menu)">
        <svg enable-background="new 0 0 515.555 515.555" height="15" viewBox="0 0 515.555 515.555" width="15" xmlns="http://www.w3.org/2000/svg"><path d="m496.679 212.208c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138 65.971-25.167 91.138 0"/><path d="m303.347 212.208c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138 65.971-25.167 91.138 0"/><path d="m110.014 212.208c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138 65.971-25.167 91.138 0"/></svg>
      </button>
      <ul class="menu" #menu>
        <li class="menu__item">
          <button class="item__button" (click)="deletePost(writing.entityToken)">
            Видалити
          </button>
        </li>
      </ul>
    </div>
  </div>
  <div class="writing__img" *ngIf="writing?.type == 'Стаття'">
    <img src="./static/images/profile/post.jpg" alt="#" class="img">
  </div>
  <div class="writing__content">
    <h2 class="body__title">{{writing?.title}}</h2>
    <input type="hidden" value="{{writing?.entityToken}}">
    <p class="text">{{writing?.text}}</p>
  </div>
  <div class="writing__footer">
    <ul class="footer__rating">
      <li class="rating__item">
        <div class="item__button">
          <button class="button" #like (click)="setEmotion(like, dislike, writingEmotion.LIKE)" type="checkbox" class="button" name="setLike">
            <svg *ngIf="writing.currentUserEmotion != writingEmotion.LIKE" xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px"
                    viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
              <g>
                <g>
                  <path d="M512,304c0-12.821-5.099-24.768-13.888-33.579c9.963-10.901,15.04-25.515,13.653-40.725
                    c-2.496-27.115-26.923-48.363-55.637-48.363H324.352c6.528-19.819,16.981-56.149,16.981-85.333c0-46.272-39.317-85.333-64-85.333
                    c-22.144,0-37.995,12.48-38.656,12.992c-2.539,2.027-4.011,5.099-4.011,8.341v72.341L173.205,237.44l-2.539,1.301v-4.075
                    c0-5.888-4.779-10.667-10.667-10.667H53.333C23.915,224,0,247.915,0,277.333V448c0,29.419,23.915,53.333,53.333,53.333h64
                    c23.061,0,42.773-14.72,50.197-35.264C185.28,475.2,209.173,480,224,480h195.819c23.232,0,43.563-15.659,48.341-37.248
                    c2.453-11.136,1.024-22.336-3.84-32.064c15.744-7.915,26.347-24.192,26.347-42.688c0-7.552-1.728-14.784-4.992-21.312
                    C501.419,338.752,512,322.496,512,304z M467.008,330.325c-4.117,0.491-7.595,3.285-8.917,7.232
                    c-1.301,3.947-0.213,8.277,2.816,11.136c5.419,5.099,8.427,11.968,8.427,19.307c0,13.461-10.176,24.768-23.637,26.325
                    c-4.117,0.491-7.595,3.285-8.917,7.232c-1.301,3.947-0.213,8.277,2.816,11.136c7.019,6.613,9.835,15.893,7.723,25.451
                    c-2.624,11.904-14.187,20.523-27.499,20.523H224c-17.323,0-46.379-8.128-56.448-18.219c-3.051-3.029-7.659-3.925-11.627-2.304
                    c-3.989,1.643-6.592,5.547-6.592,9.856c0,17.643-14.357,32-32,32h-64c-17.643,0-32-14.357-32-32V277.333c0-17.643,14.357-32,32-32
                    h96V256c0,3.691,1.92,7.125,5.077,9.088c3.115,1.877,7.04,2.069,10.368,0.448l21.333-10.667c2.155-1.067,3.883-2.859,4.907-5.056
                    l64-138.667c0.64-1.408,0.981-2.944,0.981-4.48V37.781C260.437,35.328,268.139,32,277.333,32C289.024,32,320,61.056,320,96
                    c0,37.547-20.437,91.669-20.629,92.203c-1.237,3.264-0.811,6.955,1.173,9.856c2.005,2.88,5.291,4.608,8.789,4.608h146.795
                    c17.792,0,32.896,12.736,34.389,28.992c1.131,12.16-4.715,23.723-15.189,30.187c-3.264,2.005-5.205,5.632-5.056,9.493
                    s2.368,7.317,5.781,9.088c9.024,4.587,14.613,13.632,14.613,23.573C490.667,317.461,480.491,328.768,467.008,330.325z"/>
                </g>
              </g>
                <g>
                <g>
                  <path d="M160,245.333c-5.888,0-10.667,4.779-10.667,10.667v192c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667
                    V256C170.667,250.112,165.888,245.333,160,245.333z"/>
                </g>
              </g>
            </svg>
            <svg *ngIf="writing.currentUserEmotion == writingEmotion.LIKE" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; fill: #8d8d8d;" xml:space="preserve">
              <g>
                <g>
                  <path d="M53.333,224C23.936,224,0,247.936,0,277.333V448c0,29.397,23.936,53.333,53.333,53.333h64
                    c12.011,0,23.061-4.053,32-10.795V224H53.333z"/>
                </g>
              </g>
                          <g>
                <g>
                  <path d="M512,304c0-12.821-5.077-24.768-13.888-33.579c9.963-10.901,15.04-25.515,13.653-40.725
                    c-2.496-27.115-26.923-48.363-55.637-48.363H324.352c6.528-19.819,16.981-56.149,16.981-85.333c0-46.272-39.317-85.333-64-85.333
                    c-22.165,0-37.995,12.48-38.677,12.992c-2.517,2.027-3.989,5.099-3.989,8.341v72.341l-61.44,133.099l-2.56,1.301v228.651
                    C188.032,475.584,210.005,480,224,480h195.819c23.232,0,43.563-15.659,48.341-37.269c2.453-11.115,1.024-22.315-3.861-32.043
                    c15.765-7.936,26.368-24.171,26.368-42.688c0-7.552-1.728-14.784-5.013-21.333C501.419,338.731,512,322.496,512,304z"/>
                </g>
              </g>
            </svg>
          </button>
        </div>
        <span class="item__number">
          {{writing?.likeNumber}}
        </span>
      </li>
      <li class="rating__item">
        <div class="item__button">
          <button class="button" #dislike (click)="setEmotion(like, dislike, writingEmotion.DISLIKE)" type="checkbox" class="button" name="setDislike">
              <svg *ngIf="writing.currentUserEmotion != writingEmotion.DISLIKE" xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px"
                   viewBox="0 0 512.012 512.012" xml:space="preserve">
              <g>
                <g>
                  <path d="M498.133,241.585c8.768-8.811,13.867-20.757,13.867-33.579c0-18.496-10.581-34.752-26.325-42.688
                    c3.264-6.528,4.992-13.76,4.992-21.312c0-18.496-10.603-34.773-26.347-42.688c4.864-9.728,6.293-20.928,3.84-32.043
                    c-4.779-21.611-25.109-37.269-48.341-37.269H224c-14.827,0-38.72,4.8-56.469,13.931c-7.424-20.544-27.136-35.264-50.197-35.264
                    h-64C23.915,10.673,0,34.587,0,64.006v170.667c0,29.419,23.915,53.333,53.333,53.333H160c5.888,0,10.667-4.779,10.667-10.667
                    v-4.075l2.539,1.28l61.461,133.12v72.341c0,3.243,1.472,6.315,3.989,8.341c0.683,0.512,16.533,12.992,38.677,12.992
                    c24.683,0,64-39.061,64-85.333c0-29.184-10.453-65.515-16.981-85.333h131.776c28.715,0,53.141-21.248,55.659-48.363
                    C513.173,267.099,508.096,252.486,498.133,241.585z M475.328,250.182c10.475,6.464,16.32,18.027,15.189,30.187
                    c-1.493,16.235-16.597,28.971-34.389,28.971H309.333c-3.499,0-6.784,1.728-8.789,4.608c-1.984,2.901-2.432,6.592-1.173,9.856
                    c0.192,0.533,20.629,54.656,20.629,92.203c0,34.944-30.976,64-42.667,64c-9.195,0-16.917-3.349-21.333-5.781v-68.885
                    c0-1.536-0.341-3.072-1.003-4.48l-64-138.667c-1.003-2.176-2.731-3.968-4.907-5.056l-21.333-10.667
                    c-3.307-1.664-7.253-1.451-10.368,0.448c-3.136,1.963-5.056,5.397-5.056,9.088v10.667h-96c-17.643,0-32-14.357-32-32V64.006
                    c0-17.643,14.357-32,32-32h64c17.643,0,32,14.357,32,32c0,4.309,2.603,8.213,6.592,9.856c3.968,1.621,8.555,0.725,11.627-2.304
                    C177.621,61.467,206.677,53.339,224,53.339h195.819c13.312,0,24.875,8.619,27.499,20.565c2.112,9.536-0.704,18.795-7.723,25.429
                    c-3.029,2.837-4.139,7.168-2.816,11.136c1.323,3.947,4.8,6.763,8.917,7.232c13.461,1.536,23.637,12.843,23.637,26.304
                    c0,7.339-3.008,14.208-8.405,19.328c-3.029,2.837-4.139,7.168-2.816,11.136c1.323,3.947,4.8,6.763,8.917,7.232
                    c13.461,1.536,23.637,12.843,23.637,26.304c0,9.941-5.589,18.987-14.613,23.595c-3.413,1.771-5.611,5.227-5.781,9.088
                    C470.123,244.529,472.064,248.155,475.328,250.182z"/>
                </g>
              </g>
                <g>
                <g>
                  <path d="M160,53.339c-5.888,0-10.667,4.779-10.667,10.667v192c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667
                    v-192C170.667,58.118,165.888,53.339,160,53.339z"/>
                </g>
              </g>
            </svg>
              <svg *ngIf="writing.currentUserEmotion == writingEmotion.DISLIKE" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; transform: rotate(180deg); fill: #8d8d8d;" xml:space="preserve">
                <g>
                  <g>
                    <path d="M53.333,224C23.936,224,0,247.936,0,277.333V448c0,29.397,23.936,53.333,53.333,53.333h64
                      c12.011,0,23.061-4.053,32-10.795V224H53.333z"/>
                  </g>
                </g>
                <g>
                  <g>
                    <path d="M512,304c0-12.821-5.077-24.768-13.888-33.579c9.963-10.901,15.04-25.515,13.653-40.725
                      c-2.496-27.115-26.923-48.363-55.637-48.363H324.352c6.528-19.819,16.981-56.149,16.981-85.333c0-46.272-39.317-85.333-64-85.333
                      c-22.165,0-37.995,12.48-38.677,12.992c-2.517,2.027-3.989,5.099-3.989,8.341v72.341l-61.44,133.099l-2.56,1.301v228.651
                      C188.032,475.584,210.005,480,224,480h195.819c23.232,0,43.563-15.659,48.341-37.269c2.453-11.115,1.024-22.315-3.861-32.043
                      c15.765-7.936,26.368-24.171,26.368-42.688c0-7.552-1.728-14.784-5.013-21.333C501.419,338.731,512,322.496,512,304z"/>
                  </g>
                </g>
              </svg>
          </button>
        </div>
        <span class="item__number">
          {{writing?.dislikeNumber}}
        </span>
      </li>
      <li class="rating__item">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
             viewBox="0 0 511.992 511.992" style="enable-background:new 0 0 511.992 511.992;" xml:space="preserve">
          <g>
            <g>
              <path d="M510.096,249.937c-4.032-5.867-100.928-143.275-254.101-143.275C124.56,106.662,7.44,243.281,2.512,249.105
                c-3.349,3.968-3.349,9.792,0,13.781C7.44,268.71,124.56,405.329,255.995,405.329S504.549,268.71,509.477,262.886
                C512.571,259.217,512.848,253.905,510.096,249.937z M255.995,383.996c-105.365,0-205.547-100.48-230.997-128
                c25.408-27.541,125.483-128,230.997-128c123.285,0,210.304,100.331,231.552,127.424
                C463.013,282.065,362.256,383.996,255.995,383.996z"/>
            </g>
          </g>
          <g>
            <g>
              <path d="M255.995,170.662c-47.061,0-85.333,38.272-85.333,85.333s38.272,85.333,85.333,85.333s85.333-38.272,85.333-85.333
                S303.056,170.662,255.995,170.662z M255.995,319.996c-35.285,0-64-28.715-64-64s28.715-64,64-64s64,28.715,64,64
                S291.28,319.996,255.995,319.996z"/>
            </g>
          </g>
        </svg>
        <span class="item__number">
          {{writing?.viewNumber}}
        </span>
      </li>
      <li class="rating__item" *ngIf="writing?.type == 'POST'">
        <div class="item__button">
        <button class="button" (click)="commentsOpened = !commentsOpened">
          <svg height="511pt" viewBox="0 -25 511.99911 511" width="511pt" xmlns="http://www.w3.org/2000/svg">
            <path d="m504.292969 415.507812c-.496094-.28125-46.433594-26.347656-79.050781-62.386718 23.070312-36.648438 35.210937-78.714844 35.210937-122.394532 0-61.496093-23.949219-119.3125-67.433594-162.796874-43.484375-43.480469-101.300781-67.429688-162.792969-67.429688-61.496093 0-119.3125 23.949219-162.792968 67.429688-43.484375 43.484374-67.433594 101.300781-67.433594 162.796874 0 61.492188 23.949219 119.308594 67.433594 162.792969 43.480468 43.484375 101.296875 67.429688 162.792968 67.429688 39.25 0 77.6875-9.96875 111.75-28.902344 67.128907 37.320313 155.273438 12.277344 159.140626 11.148437 5.839843-1.707031 10.089843-6.746093 10.78125-12.789062.695312-6.046875-2.300782-11.914062-7.605469-14.898438zm-153.925781-13.6875c-4.878907-3.1875-11.160157-3.28125-16.136719-.246093-31.242188 19.0625-67.207031 29.140625-104.003907 29.140625-110.273437 0-199.992187-89.714844-199.992187-199.988282 0-110.277343 89.71875-199.992187 199.992187-199.992187 110.273438 0 199.988282 89.714844 199.988282 199.992187 0 41.382813-12.535156 81.097657-36.257813 114.847657-3.878906 5.519531-3.632812 12.945312.609375 18.191406 18.769532 23.238281 42.988282 43.035156 62.273438 56.886719-30.085938 3.28125-73.347656 2.789062-106.472656-18.832032zm0 0"/><path d="m332.714844 282.808594h-204.976563c-8.351562 0-15.117187 6.769531-15.117187 15.117187 0 8.347657 6.765625 15.117188 15.117187 15.117188h204.976563c8.347656 0 15.117187-6.769531 15.117187-15.117188 0-8.347656-6.769531-15.117187-15.117187-15.117187zm0 0"/><path d="m332.714844 215.609375h-204.976563c-8.351562 0-15.117187 6.769531-15.117187 15.121094 0 8.347656 6.765625 15.117187 15.117187 15.117187h204.976563c8.347656 0 15.117187-6.769531 15.117187-15.117187 0-8.351563-6.769531-15.121094-15.117187-15.121094zm0 0"/><path d="m332.714844 148.414062h-204.976563c-8.351562 0-15.117187 6.769532-15.117187 15.117188 0 8.351562 6.765625 15.117188 15.117187 15.117188h204.976563c8.347656 0 15.117187-6.765626 15.117187-15.117188 0-8.347656-6.769531-15.117188-15.117187-15.117188zm0 0"/>
          </svg>
        </button>
        </div>
        <span class="item__number">
          {{writing?.comments?.length}}
        </span>
      </li>
    </ul>
    <span class="footer__date">{{writing?.publishDate | date: 'HH:mm-dd.MM.yy'}}</span>
  </div>
  <app-comments *ngIf="commentsOpened" [writingEntityToken]="writing.entityToken" [comments]="writing.comments"></app-comments>
</article>
